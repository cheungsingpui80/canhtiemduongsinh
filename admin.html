<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Quản Trị - Canh Tiềm Dưỡng Sinh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100">

    <div class="flex h-screen">
        <div class="w-64 bg-gray-800 text-white flex flex-col">
            <div class="px-8 py-6">
                <h2 class="text-2xl font-semibold" data-lang="dashboard_title">Bảng Điều Khiển</h2>
            </div>
             <div class="px-4 py-2">
                <div class="flex bg-gray-700 rounded-lg p-1">
                    <button class="lang-btn flex-1 text-sm py-1 px-2 rounded-md" data-lang-code="vi">Tiếng Việt</button>
                    <button class="lang-btn flex-1 text-sm py-1 px-2 rounded-md" data-lang-code="zh">繁體中文</button>
                </div>
            </div>
            <nav class="flex-1 px-4 py-2 space-y-2 overflow-y-auto">
                <a href="#" class="tab-link active:bg-gray-700 bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="dashboard">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" /></svg>
                    <span data-lang="dashboard_overview">Tổng Quan</span>
                </a>
                 <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="employee-management">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 12A3 3 0 1012 6a3 3 0 000 6z" /></svg>
                    <span data-lang="employee_management">Quản Lý Nhân Viên</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="payroll-management">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.75A.75.75 0 013 4.5h.75m0 0a.75.75 0 01.75.75v.75m0 0H3m3.75 0h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75M6.75 12h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75m0 0a.75.75 0 01-.75-.75v-.75a.75.75 0 01.75-.75m0 0h-.75m0 0a.75.75 0 01-.75.75v.75a.75.75 0 01.75-.75h.75M12 4.5v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75V4.5m3.75 0v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75V4.5m0 0h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75M12 12h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75m0 0a.75.75 0 01-.75-.75v-.75a.75.75 0 01.75-.75m0 0h-.75m0 0a.75.75 0 01-.75.75v.75a.75.75 0 01.75-.75h.75M12 18.75v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75m3.75 0v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75m0 0h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75M18 12h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75m0 0a.75.75 0 01-.75-.75v-.75a.75.75 0 01.75-.75m0 0h-.75m0 0a.75.75 0 01-.75.75v.75a.75.75 0 01.75-.75h.75M18 18.75v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75m0 0h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75" />
                    </svg>
                    <span data-lang="payroll_management">Quản Lý Lương</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="sales-management">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l.383-1.437M7.5 14.25L5.106 5.165A2.25 2.25 0 002.854 3H2.25" />
                    </svg>
                    <span data-lang="order_lookup">Tra Cứu Đơn Hàng</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="menu-management">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    <span data-lang="menu_management">Quản Lý Thực Đơn</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="supplier-management">
                     <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
                     </svg>
                     <span data-lang="supplier_management">Nhà Cung Cấp</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="purchase-management">
                     <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" /></svg>
                     <span data-lang="material_management">Nguyên Vật Liệu</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="spoilage-management">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>
                    <span data-lang="spoilage_management">Quản Lý Hư Hao</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="cost-management">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8h6m-5 4h4m5 6H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2z"></path></svg>
                    <span data-lang="other_costs">Chi Phí Khác</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="profit-report">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path></svg>
                    <span data-lang="profit_report">Báo Cáo Lợi Nhuận</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="inventory-report">
                    <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-1.621-1.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25A2.25 2.25 0 015.25 3h4.5M15 3.75a2.25 2.25 0 012.25 2.25V6a2.25 2.25 0 01-2.25 2.25H8.25A2.25 2.25 0 016 6V5.25a2.25 2.25 0 012.25-2.25h4.5M15 3.75h-4.5m0 0a2.25 2.25 0 012.25 2.25V6" />
                    </svg>
                    <span data-lang="inventory_report">Báo Cáo Tồn Kho</span>
                </a>
                <a href="#" class="tab-link hover:bg-gray-700 flex items-center px-4 py-2 rounded-lg" data-tab="adjustment-logs">
                     <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
                    </svg>
                    <span data-lang="adjustment_logs">Lịch Sử Điều Chỉnh</span>
                </a>
            </nav>
        </div>

        <main class="flex-1 p-6 md:p-10 overflow-y-auto">
            
            <div id="dashboard" class="tab-content active">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="dashboard_overview">Tổng Quan Hôm Nay</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
                        <div class="bg-blue-100 p-3 rounded-full mr-4"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg></div>
                        <div>
                            <p class="text-sm text-gray-500" data-lang="today_revenue">Doanh thu hôm nay</p>
                            <p id="dashboard-revenue" class="text-2xl font-bold">0 VND</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
                        <div class="bg-green-100 p-3 rounded-full mr-4"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg></div>
                        <div>
                            <p class="text-sm text-gray-500" data-lang="today_orders">Đơn hàng mới</p>
                            <p id="dashboard-orders" class="text-2xl font-bold">0</p>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
                        <div class="bg-yellow-100 p-3 rounded-full mr-4"><svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></div>
                        <div>
                            <p class="text-sm text-gray-500" data-lang="best_selling_dish">Món bán chạy nhất</p>
                            <p id="dashboard-best-seller" class="text-lg font-bold">N/A</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
                        <div class="bg-red-100 p-3 rounded-full mr-4"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div>
                        <div>
                            <p class="text-sm text-gray-500" data-lang="low_stock_alert">Cảnh báo tồn kho</p>
                            <p id="dashboard-low-stock" class="text-2xl font-bold">0</p>
                        </div>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4" data-lang="order_status_distribution">Phân bổ Trạng thái Đơn hàng</h3>
                        <canvas id="orderStatusChart"></canvas>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4" data-lang="recent_activity">Hoạt động Gần đây</h3>
                        <div id="dashboard-recent-activity" class="space-y-3 max-h-60 overflow-y-auto"></div>
                    </div>
                </div>
            </div>

             <div id="employee-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="employee_management_title">Quản Lý Nhân Viên</h1>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h2 class="text-xl font-semibold mb-4" data-lang="add_new_employee">Thêm Nhân Viên Mới</h2>
                            <form id="add-employee-form" class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="employee-name" class="block text-sm font-medium text-gray-700" data-lang="employee_name">Họ và Tên</label>
                                        <input type="text" id="employee-name" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                    </div>
                                    <div>
                                        <label for="employee-id-code" class="block text-sm font-medium text-gray-700" data-lang="employee_id_code">Mã số nhân viên</label>
                                        <input type="text" id="employee-id-code" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                    </div>
                                    <div>
                                        <label for="employee-dob" class="block text-sm font-medium text-gray-700" data-lang="employee_dob">Ngày sinh</label>
                                        <input type="date" id="employee-dob" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3" min="1900-01-01" max="2999-12-31">
                                    </div>
                                    <div>
                                        <label for="employee-nid" class="block text-sm font-medium text-gray-700" data-lang="employee_nid">Số CCCD/CC</label>
                                        <input type="text" id="employee-nid" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                    </div>
                                </div>
                                <div>
                                    <label for="employee-photo-url" class="block text-sm font-medium text-gray-700" data-lang="employee_photo_url">URL Hình ảnh</label>
                                    <input type="url" id="employee-photo-url" data-lang-placeholder="employee_photo_url_placeholder" placeholder="https://example.com/photo.jpg" class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                </div>
                                 <div>
                                    <label for="employee-permanent-address" class="block text-sm font-medium text-gray-700" data-lang="employee_permanent_address">Địa chỉ thường trú</label>
                                    <input type="text" id="employee-permanent-address" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                </div>
                                <div>
                                    <label for="employee-current-address" class="block text-sm font-medium text-gray-700" data-lang="employee_current_address">Địa chỉ hiện tại</label>
                                    <input type="text" id="employee-current-address" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                     <div>
                                        <label for="employee-start-date" class="block text-sm font-medium text-gray-700" data-lang="employee_start_date">Ngày nhận việc</label>
                                        <input type="date" id="employee-start-date" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3" min="1900-01-01" max="2999-12-31">
                                    </div>
                                    <div>
                                        <label for="employee-type" class="block text-sm font-medium text-gray-700" data-lang="employee_type">Hình thức làm việc</label>
                                        <select id="employee-type" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                                            <option value="part-time" data-lang="employee_type_part_time">Bán thời gian</option>
                                            <option value="contract" data-lang="employee_type_contract">Hợp đồng lao động</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700" data-lang="roles">Vai trò</label>
                                    <div id="employee-roles-checkboxes" class="mt-2 space-y-2">
                                        </div>
                                </div>
                                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700" data-lang="add_employee_btn">Thêm Nhân Viên</button>
                            </form>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h2 class="text-xl font-semibold mb-4" data-lang="employee_list">Danh Sách Nhân Viên</h2>
                            <div id="employees-list" class="space-y-4 max-h-[80vh] overflow-y-auto"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="sales-management" class="tab-content">
                 <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="order_lookup_title">Tra Cứu Đơn Hàng</h1>
                 <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap items-center gap-4 mb-6 pb-6 border-b">
                        <div>
                            <label for="order-lookup-preset-filter" class="block text-sm font-medium text-gray-700" data-lang="view_by">Xem theo</label>
                            <select id="order-lookup-preset-filter" class="mt-1 block w-full md:w-auto border-gray-300 rounded-md shadow-sm">
                                <option value="this_month" data-lang="this_month">Tháng này</option>
                                <option value="this_quarter" data-lang="this_quarter">Quí này</option>
                                <option value="this_year" data-lang="this_year">Năm này</option>
                                <option value="custom" data-lang="custom_option">Tùy chọn</option>
                            </select>
                        </div>
                        <div>
                            <label for="order-lookup-start-date" class="block text-sm font-medium text-gray-700" data-lang="from_date">Từ ngày</label>
                            <input type="date" id="order-lookup-start-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div>
                            <label for="order-lookup-end-date" class="block text-sm font-medium text-gray-700" data-lang="to_date">Đến ngày</label>
                            <input type="date" id="order-lookup-end-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div class="self-end">
                            <button id="order-lookup-btn" class="bg-blue-600 text-white py-2 px-5 rounded-md hover:bg-blue-700" data-lang="search_btn">Tra cứu</button>
                        </div>
                    </div>
                    
                    <div id="order-stats" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                        </div>

                    <div id="order-details-container" class="mt-8">
                         <h3 id="order-details-title" class="text-xl font-semibold mb-4 hidden"></h3>
                         <div id="order-details-list" class="space-y-3 max-h-[50vh] overflow-y-auto"></div>
                    </div>
                </div>
            </div>

            <div id="menu-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="menu_management_title">Quản Lý Thực Đơn &amp; Định Lượng (BOM)</h1>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold mb-4" data-lang="add_new_dish">Thêm Món Mới</h2>
                        <form id="add-dish-form" class="space-y-4">
                            <div>
                                <label for="dish-name" class="block text-sm font-medium text-gray-700" data-lang="dish_name">Tên món</label>
                                <input type="text" id="dish-name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                            <div>
                                <label for="dish-description" class="block text-sm font-medium text-gray-700" data-lang="description">Mô tả</label>
                                <textarea id="dish-description" rows="4" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></textarea>
                            </div>
                            <div>
                                <label for="dish-price" class="block text-sm font-medium text-gray-700" data-lang="selling_price">Giá Bán (VND)</label>
                                <input type="number" id="dish-price" min="0" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                             <div>
                                <label for="dish-image-url" class="block text-sm font-medium text-gray-700" data-lang="image_url">URL Hình ảnh</label>
                                <input type="text" id="dish-image-url" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                            <div class="pt-4 border-t">
                                <h3 class="text-lg font-medium text-gray-800 mb-2" data-lang="bom_title">Định Lượng Nguyên Liệu (BOM)</h3>
                                <div class="flex gap-2 items-center">
                                    <select id="bom-material-select" class="flex-grow border border-gray-300 rounded-md shadow-sm py-2 px-3"></select>
                                    <input type="number" id="bom-quantity" data-lang-placeholder="quantity_short" placeholder="SL" class="w-20 border border-gray-300 rounded-md shadow-sm py-2 px-3">
                                    <button type="button" id="add-bom-item-btn" class="bg-gray-600 text-white px-3 py-2 rounded-md hover:bg-gray-700">+</button>
                                </div>
                                <div id="bom-items-list" class="mt-2 space-y-1"></div>
                                <div class="mt-2 font-semibold text-right"><span data-lang="estimated_cost">Giá vốn ước tính</span>: <span id="estimated-cost">0 VND</span></div>
                            </div>
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700" data-lang="add_dish_btn">Thêm Món</button>
                        </form>
                    </div>
                    <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold mb-4" data-lang="current_dishes_list">Danh Sách Món Ăn Hiện Có</h2>
                        <div id="dishes-list" class="space-y-4"></div>
                    </div>
                </div>
            </div>

            <div id="supplier-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="supplier_management_title">Quản Lý Nhà Cung Cấp</h1>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-1">
                             <h3 class="text-lg font-medium mb-2" data-lang="add_new_supplier">Thêm NCC Mới</h3>
                             <form id="add-supplier-form" class="space-y-4">
                                <input type="text" id="supplier-name" data-lang-placeholder="supplier_name" placeholder="Tên nhà cung cấp" required class="block w-full border-gray-300 rounded-md py-2 px-3">
                                <input type="text" id="supplier-contact" data-lang-placeholder="contact_person" placeholder="Người liên hệ" class="block w-full border-gray-300 rounded-md py-2 px-3">
                                <input type="tel" id="supplier-phone" data-lang-placeholder="phone_number" placeholder="Số điện thoại" class="block w-full border-gray-300 rounded-md py-2 px-3">
                                <input type="text" id="supplier-address" data-lang-placeholder="address" placeholder="Địa chỉ" class="block w-full border-gray-300 rounded-md py-2 px-3">
                                <input type="text" id="supplier-taxcode" data-lang-placeholder="tax_code" placeholder="Mã số thuế (nếu có)" class="block w-full border-gray-300 rounded-md py-2 px-3">
                                <button type="submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700" data-lang="add_supplier_btn">Thêm NCC</button>
                            </form>
                        </div>
                        <div class="lg:col-span-2">
                             <h3 class="text-lg font-medium mb-2" data-lang="suppliers_list_title">Danh Sách Nhà Cung Cấp</h3>
                             <div id="suppliers-list" class="mt-4 space-y-3 max-h-96 overflow-y-auto"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="purchase-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="purchase_management_title">Nguyên Vật Liệu & Nhập Kho</h1>
                 <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="space-y-6 bg-white p-6 rounded-lg shadow-md">
                        <div>
                            <h3 class="text-lg font-medium mb-2" data-lang="material_categories">Phân loại Nguyên vật liệu</h3>
                            <form id="add-category-form" class="flex gap-2 mb-4">
                                <input type="text" id="category-name" data-lang-placeholder="category_name_placeholder" placeholder="Tên phân loại mới" required class="flex-grow border border-gray-300 rounded-md py-2 px-3">
                                <button type="submit" class="bg-indigo-600 text-white px-4 rounded-md hover:bg-indigo-700" data-lang="add_btn">Thêm</button>
                            </form>
                            <div id="material-categories-list" class="space-y-2 max-h-[200px] overflow-y-auto"></div>
                        </div>
                        <div class="border-t pt-4">
                            <h3 class="text-lg font-medium mb-2" data-lang="define_material">Định Nghĩa Nguyên Vật Liệu</h3>
                            <form id="add-material-form" class="space-y-4">
                                <input type="text" id="material-name" data-lang-placeholder="material_name" placeholder="Tên nguyên liệu" required class="w-full border border-gray-300 rounded-md py-2 px-3">
                                <input type="text" id="material-unit" data-lang-placeholder="unit_placeholder" placeholder="Đơn vị (kg, gr, cái)" required class="w-full border border-gray-300 rounded-md py-2 px-3">
                                <select id="material-category-select" class="w-full border border-gray-300 rounded-md py-2 px-3"></select>
                                <button type="submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700" data-lang="add_btn">Thêm Nguyên Liệu</button>
                            </form>
                        </div>
                    </div>

                    <div class="space-y-6 bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-medium mb-2" data-lang="materials_list_title">Danh Sách Nguyên Vật Liệu</h3>
                        <input type="text" id="search-material-input" data-lang-placeholder="search_material_placeholder" placeholder="Tìm kiếm nguyên vật liệu..." class="w-full border border-gray-300 rounded-md py-2 px-3 mb-4">
                        <div id="materials-list" class="space-y-4 max-h-[65vh] overflow-y-auto"></div>
                    </div>

                    <div class="space-y-6 bg-white p-6 rounded-lg shadow-md">
                        <div>
                            <h3 class="text-lg font-medium mb-2" data-lang="record_purchase">Nhập Kho</h3>
                            <form id="add-purchase-form" class="space-y-4 p-4 border rounded-md">
                                <div>
                                    <label class="block text-sm font-medium" data-lang="purchase_date">Ngày nhập hàng</label>
                                    <input type="date" id="purchase-date" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3" min="1900-01-01" max="2999-12-31">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium" data-lang="material">Nguyên liệu</label>
                                    <select id="purchase-material-select" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3"></select>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium" data-lang="quantity">Số lượng</label>
                                        <input type="number" id="purchase-quantity" min="0" step="any" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium" data-lang="unit">Đơn vị</label>
                                        <input type="text" id="purchase-unit" readonly class="mt-1 block w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3">
                                    </div>
                                </div>
                                 <div>
                                    <label class="block text-sm font-medium" data-lang="total_price">Tổng tiền (VND)</label>
                                    <input type="number" id="purchase-total-price" min="0" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                                </div>
                                 <div>
                                    <label class="block text-sm font-medium" data-lang="supplier">Nhà cung cấp</label>
                                    <select id="purchase-supplier-select" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3"></select>
                                </div>
                                <p class="text-right"><span data-lang="new_unit_price_label">Đơn giá mới sẽ là</span>: <span id="new-unit-price" class="font-semibold">0 VND</span></p>
                                <button type="submit" class="w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700" data-lang="confirm_purchase_btn">Xác Nhận Nhập Kho</button>
                            </form>
                        </div>
                         <div class="border-t pt-4">
                             <h3 class="text-lg font-semibold mb-2" data-lang="purchase_history_title">Lịch Sử Nhập Kho</h3>
                             <div id="purchases-list" class="space-y-2 max-h-60 overflow-y-auto"></div>
                         </div>
                    </div>
                </div>
            </div>

             <div id="spoilage-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="spoilage_management_title">Quản Lý Nguyên Vật Liệu Hư Hao</h1>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold mb-4" data-lang="record_spoilage">Ghi Nhận Hư Hao</h2>
                        <form id="add-spoilage-form" class="space-y-4">
                            <div>
                                <label for="spoilage-date" class="block text-sm font-medium text-gray-700" data-lang="spoilage_date">Ngày thải bỏ</label>
                                <input type="date" id="spoilage-date" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3" min="1900-01-01" max="2999-12-31">
                            </div>
                            <div>
                                <label for="spoilage-material-select" class="block text-sm font-medium text-gray-700" data-lang="material">Nguyên liệu</label>
                                <select id="spoilage-material-select" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3"></select>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="spoilage-quantity" class="block text-sm font-medium text-gray-700" data-lang="quantity">Số lượng</label>
                                    <input type="number" id="spoilage-quantity" min="0" step="any" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700" data-lang="unit">Đơn vị tính</label>
                                    <input type="text" id="spoilage-unit" readonly class="mt-1 block w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3">
                                </div>
                            </div>
                             <div>
                                <label for="spoilage-reason" class="block text-sm font-medium text-gray-700" data-lang="spoilage_reason">Nguyên nhân thải bỏ</label>
                                <input type="text" id="spoilage-reason" required data-lang-placeholder="spoilage_reason_placeholder" placeholder="VD: Hết hạn, hỏng..." class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                            </div>
                            <button type="submit" class="w-full bg-red-600 text-white py-2 rounded-md hover:bg-red-700" data-lang="record_btn">Ghi Nhận</button>
                        </form>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold mb-4" data-lang="spoilage_history_title">Lịch Sử Hư Hao</h2>
                        <div id="spoilage-list" class="space-y-2 max-h-80 overflow-y-auto"></div>
                    </div>
                </div>
            </div>

            <div id="cost-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="other_costs_title">Quản Lý Chi Phí Khác</h1>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold mb-4" data-lang="add_new_cost">Thêm Chi Phí Mới</h2>
                        <form id="add-other-cost-form" class="space-y-4">
                            <div>
                                <label for="other-cost-name" class="block text-sm font-medium text-gray-700" data-lang="cost_name">Tên chi phí</label>
                                <input type="text" id="other-cost-name" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                            </div>
                            <div>
                                <label for="other-cost-amount" class="block text-sm font-medium text-gray-700" data-lang="amount">Số tiền (VND)</label>
                                <input type="number" id="other-cost-amount" min="0" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                            </div>
                            <div>
                                <label for="other-cost-frequency" class="block text-sm font-medium text-gray-700" data-lang="cost_type">Loại chi phí</label>
                                <select id="other-cost-frequency" required class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3">
                                    <option value="monthly" data-lang="monthly">Hàng tháng</option>
                                    <option value="yearly" data-lang="yearly">Hàng năm</option>
                                    <option value="onetime" data-lang="onetime">Một lần (Đầu tư)</option>
                                </select>
                            </div>
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700" data-lang="add_cost_btn">Thêm Chi Phí</button>
                        </form>
                    </div>
                    <div class="lg:col-span-2 space-y-6">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold mb-3" data-lang="monthly_costs">Chi phí hàng tháng</h3>
                            <div id="monthly-costs-list" class="space-y-2"></div>
                            <div class="mt-4 pt-4 border-t font-bold flex justify-between">
                                <span data-lang="total_monthly">Tổng cộng tháng:</span><span id="total-monthly-costs">0 VND</span>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold mb-3" data-lang="yearly_costs">Chi phí hàng năm</h3>
                            <div id="yearly-costs-list" class="space-y-2"></div>
                             <div class="mt-4 pt-4 border-t font-bold flex justify-between">
                                <span data-lang="total_yearly">Tổng cộng năm:</span><span id="total-yearly-costs">0 VND</span>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold mb-3" data-lang="onetime_costs">Chi phí một lần (Đầu tư)</h3>
                            <div id="onetime-costs-list" class="space-y-2"></div>
                             <div class="mt-4 pt-4 border-t font-bold flex justify-between">
                                <span data-lang="total">Tổng cộng:</span><span id="total-onetime-costs">0 VND</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="profit-report" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="profit_report_title">Báo Cáo Lợi Nhuận</h1>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap items-center gap-4 mb-6 pb-6 border-b">
                         <div>
                            <label for="profit-report-preset-filter" class="block text-sm font-medium text-gray-700" data-lang="view_by">Xem theo</label>
                            <select id="profit-report-preset-filter" class="mt-1 block w-full md:w-auto border-gray-300 rounded-md shadow-sm">
                                <option value="this_month" data-lang="this_month">Tháng này</option>
                                <option value="this_quarter" data-lang="this_quarter">Quí này</option>
                                <option value="this_year" data-lang="this_year">Năm này</option>
                                <option value="custom" data-lang="custom_option">Tùy chọn</option>
                            </select>
                        </div>
                        <div>
                            <label for="profit-report-start-date" class="block text-sm font-medium text-gray-700" data-lang="from_date">Từ ngày</label>
                            <input type="date" id="profit-report-start-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div>
                            <label for="profit-report-end-date" class="block text-sm font-medium text-gray-700" data-lang="to_date">Đến ngày</label>
                            <input type="date" id="profit-report-end-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div class="self-end">
                            <button id="calculate-profit-btn" class="w-full bg-green-600 text-white py-2 px-5 rounded-md hover:bg-green-700" data-lang="calculate_profit_btn">Xem Báo Cáo</button>
                        </div>
                    </div>
                    <div id="profit-results" class="mt-8 pt-6 border-t hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <h3 class="text-2xl font-semibold mb-4 text-center" data-lang="business_results_period">Kết Quả Kinh Doanh Trong Kỳ</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-lg">
                                    <div class="bg-blue-50 p-4 rounded-md"><p class="text-gray-600" data-lang="total_revenue">Tổng Doanh Thu:</p><p id="result-revenue" class="font-bold text-2xl text-blue-700">0 VND</p></div>
                                    <div class="bg-orange-50 p-4 rounded-md"><p class="text-gray-600" data-lang="total_cogs">Tổng Giá Vốn Hàng Bán:</p><p id="result-cogs" class="font-bold text-2xl text-orange-700">0 VND</p></div>
                                     <div class="bg-red-50 p-4 rounded-md"><p class="text-gray-600" data-lang="total_commission_fees">Tổng Phí Chiết Khấu:</p><p id="result-commission-fees" class="font-bold text-2xl text-red-700">0 VND</p></div>
                                    <div class="bg-yellow-50 p-4 rounded-md"><p class="text-gray-600" data-lang="total_operating_expenses">Tổng Chi Phí Hoạt Động (Tháng):</p><p id="result-monthly-expense" class="font-bold text-2xl text-yellow-700">0 VND</p></div>
                                    <div class="bg-red-100 p-4 rounded-md"><p class="text-gray-600" data-lang="spoilage_cost">Chi Phí Hư Hao (Ước Tính):</p><p id="result-spoilage-cost" class="font-bold text-2xl text-red-800">0 VND</p></div>
                                    <div class="bg-green-100 p-4 rounded-md"><p class="text-gray-600" data-lang="net_profit">Lợi Nhuận Ròng (Trước Thuế):</p><p id="result-net-profit" class="font-bold text-3xl text-green-800">0 VND</p></div>
                                </div>
                            </div>
                            <div class="bg-white p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-4" data-lang="revenue_structure">Cơ cấu doanh thu</h3>
                                <canvas id="revenueStructureChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="inventory-report" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="inventory_report_title">Báo Cáo Xuất Nhập Tồn Nguyên Liệu</h1>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap items-center gap-4 mb-6 pb-6 border-b">
                        <div>
                            <label for="report-preset-filter" class="block text-sm font-medium text-gray-700" data-lang="view_by">Xem theo</label>
                            <select id="report-preset-filter" class="mt-1 block w-full md:w-auto border-gray-300 rounded-md shadow-sm">
                                <option value="this_month" data-lang="this_month">Tháng này</option>
                                <option value="this_quarter" data-lang="this_quarter">Quí này</option>
                                <option value="this_year" data-lang="this_year">Năm này</option>
                                <option value="custom" data-lang="custom_option">Tùy chọn</option>
                            </select>
                        </div>
                        <div>
                            <label for="report-start-date" class="block text-sm font-medium text-gray-700" data-lang="from_date">Từ ngày</label>
                            <input type="date" id="report-start-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div>
                            <label for="report-end-date" class="block text-sm font-medium text-gray-700" data-lang="to_date">Đến ngày</label>
                            <input type="date" id="report-end-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" min="1900-01-01" max="2999-12-31">
                        </div>
                        <div class="self-end">
                            <button id="view-inventory-report-btn" class="bg-blue-600 text-white py-2 px-5 rounded-md hover:bg-blue-700" data-lang="view_report_btn">Xem Báo Cáo</button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="material_name_header">Tên Nguyên Liệu</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="unit_header">ĐVT</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="opening_stock">Tồn Đầu Kỳ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="purchased_in_period">Nhập Trong Kỳ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="used_in_period">Xuất Trong Kỳ (Bán)</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="spoiled_in_period">Hư Hao Trong Kỳ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-lang="closing_stock">Tồn Cuối Kỳ</th>
                                </tr>
                            </thead>
                            <tbody id="inventory-report-body" class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="adjustment-logs" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="adjustment_logs_title">Lịch Sử Điều Chỉnh Dữ Liệu</h1>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div id="adjustment-logs-list" class="space-y-4"></div>
                </div>
            </div>

            <div id="payroll-management" class="tab-content">
                <h1 class="text-3xl font-bold text-gray-800 mb-6" data-lang="payroll_management_title">Quản Lý Lương Nhân Viên</h1>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap items-center justify-between gap-4 mb-6 pb-6 border-b">
                        <div>
                            <h2 class="text-xl font-semibold" data-lang="payroll_period">Kỳ Tính Lương</h2>
                        </div>
                        <div class="flex flex-wrap items-center gap-4">
                             <div>
                                <label for="payroll-start-date" class="block text-sm font-medium text-gray-700" data-lang="from_date">Từ ngày</label>
                                <input type="date" id="payroll-start-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                            </div>
                            <div>
                                <label for="payroll-end-date" class="block text-sm font-medium text-gray-700" data-lang="to_date">Đến ngày</label>
                                <input type="date" id="payroll-end-date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                            </div>
                            <div class="self-end">
                                <button id="calculate-payroll-btn" class="bg-green-600 text-white py-2 px-5 rounded-md hover:bg-green-700" data-lang="calculate_payroll_btn">Tính Lương</button>
                            </div>
                        </div>
                    </div>
            
                    <div class="overflow-x-auto">
                        <h2 class="text-xl font-semibold mb-4" data-lang="employee_list">Danh Sách Nhân Viên</h2>
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-lang="employee_name">Nhân Viên</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-lang="employee_type">Hình Thức</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-lang="current_salary">Mức Lương Hiện tại</th>
                                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase" data-lang="actions">Hành Động</th>
                                </tr>
                            </thead>
                            <tbody id="payroll-employee-list" class="bg-white divide-y divide-gray-200">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </main>
    </div>

    <div id="employee-details-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center overflow-y-auto p-4">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[90vh] flex flex-col">
            <h2 class="text-2xl font-bold mb-4" data-lang="employee_details_title">Thông Tin Chi Tiết Nhân Viên</h2>
            <div id="employee-modal-content" class="overflow-y-auto pr-2">
                </div>
             <div class="flex justify-end gap-4 mt-6 pt-4 border-t">
                <button type="button" id="close-employee-modal-btn" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Đóng</button>
            </div>
        </div>
    </div>
     <div id="edit-supplier-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg">
            <h2 class="text-2xl font-bold mb-4" data-lang="edit_supplier_title">Điều Chỉnh Thông Tin Nhà Cung Cấp</h2>
            <form id="edit-supplier-form" class="space-y-4">
                <input type="hidden" id="edit-supplier-id">
                <input type="text" id="edit-supplier-name" data-lang-placeholder="supplier_name" required class="block w-full border-gray-300 rounded-md py-2 px-3">
                <input type="text" id="edit-supplier-contact" data-lang-placeholder="contact_person" class="block w-full border-gray-300 rounded-md py-2 px-3">
                <input type="tel" id="edit-supplier-phone" data-lang-placeholder="phone_number" class="block w-full border-gray-300 rounded-md py-2 px-3">
                <input type="text" id="edit-supplier-address" data-lang-placeholder="address" class="block w-full border-gray-300 rounded-md py-2 px-3">
                <input type="text" id="edit-supplier-taxcode" data-lang-placeholder="tax_code" class="block w-full border-gray-300 rounded-md py-2 px-3">
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="cancel-edit-supplier-btn" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Hủy</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md" data-lang="save_changes_btn">Lưu Thay Đổi</button>
                </div>
            </form>
        </div>
    </div>
    <div id="edit-purchase-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
        </div>

    <div id="edit-dish-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg max-h-[90vh] flex flex-col">
            <h2 class="text-2xl font-bold mb-4" data-lang="edit_dish_title">Điều Chỉnh Thông Tin Món Ăn</h2>
            <form id="edit-dish-form" class="space-y-4 overflow-y-auto pr-2">
                <input type="hidden" id="edit-dish-id">
                <div>
                    <label for="edit-dish-name" class="block text-sm font-medium text-gray-700" data-lang="dish_name">Tên món</label>
                    <input type="text" id="edit-dish-name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                </div>
                <div>
                    <label for="edit-dish-description" class="block text-sm font-medium text-gray-700" data-lang="description">Mô tả</label>
                    <textarea id="edit-dish-description" rows="3" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></textarea>
                </div>
                <div>
                    <label for="edit-dish-image-url" class="block text-sm font-medium text-gray-700" data-lang="image_url">URL Hình ảnh</label>
                    <input type="text" id="edit-dish-image-url" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                </div>
                <div class="pt-4 border-t grid grid-cols-1 md:grid-cols-2 gap-4">
                     <div>
                        <label for="edit-dish-price" class="block text-sm font-medium text-gray-700" data-lang="selling_price">Giá Bán Hiện Tại</label>
                        <input type="number" id="edit-dish-price" min="0" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                    </div>
                     <div>
                        <label for="edit-dish-price-effective-date" class="block text-sm font-medium text-gray-700" data-lang="price_effective_date">Ngày Áp Dụng Giá Mới</label>
                        <input type="date" id="edit-dish-price-effective-date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" min="1900-01-01" max="2999-12-31">
                    </div>
                </div>
                <div class="pt-4 border-t">
                    <h3 class="text-lg font-medium text-gray-800 mb-2" data-lang="bom_title">Định Lượng Nguyên Liệu (BOM)</h3>
                    <div class="flex gap-2 items-center">
                        <select id="edit-bom-material-select" class="flex-grow border border-gray-300 rounded-md shadow-sm py-2 px-3"></select>
                        <input type="number" id="edit-bom-quantity" data-lang-placeholder="quantity_short" placeholder="SL" class="w-20 border border-gray-300 rounded-md shadow-sm py-2 px-3">
                        <button type="button" id="edit-add-bom-item-btn" class="bg-gray-600 text-white px-3 py-2 rounded-md hover:bg-gray-700">+</button>
                    </div>
                    <div id="edit-bom-items-list" class="mt-2 space-y-1"></div>
                    <div class="mt-2 font-semibold text-right"><span data-lang="estimated_cost">Giá vốn ước tính</span>: <span id="edit-estimated-cost">0 VND</span></div>
                </div>
                <div>
                    <label class="block text-sm font-medium" data-lang="adjustment_reason">Lý do điều chỉnh</label>
                    <textarea id="edit-dish-reason" required rows="2" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3"></textarea>
                </div>
            </form>
             <div class="flex justify-end gap-4 mt-6 pt-4 border-t">
                <button type="button" id="cancel-edit-dish" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Hủy</button>
                <button type="submit" form="edit-dish-form" class="bg-blue-600 text-white px-4 py-2 rounded-md" data-lang="save_changes_btn">Lưu Thay Đổi</button>
            </div>
        </div>
    </div>
    
    <div id="edit-material-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg">
            <h2 class="text-2xl font-bold mb-4" data-lang="edit_material_title">Điều Chỉnh Thông Tin Nguyên Vật Liệu</h2>
            <form id="edit-material-form" class="space-y-4">
                <input type="hidden" id="edit-material-id">
                 <div>
                    <label class="block text-sm font-medium" data-lang="material_name">Tên nguyên liệu</label>
                    <input type="text" id="edit-material-name" required class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                </div>
                <div>
                    <label class="block text-sm font-medium" data-lang="unit">Đơn vị</label>
                    <input type="text" id="edit-material-unit" required class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                </div>
                <div>
                    <label class="block text-sm font-medium" data-lang="category">Phân loại</label>
                    <select id="edit-material-category-select" class="w-full border border-gray-300 rounded-md py-2 px-3"></select>
                </div>
                 <div>
                    <label class="block text-sm font-medium" data-lang="adjustment_reason">Lý do điều chỉnh</label>
                    <textarea id="edit-material-reason" required rows="2" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3"></textarea>
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="cancel-edit-material" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Hủy</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md" data-lang="save_changes_btn">Lưu Thay Đổi</button>
                </div>
            </form>
        </div>
    </div>

     <div id="edit-category-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg">
            <h2 class="text-2xl font-bold mb-4" data-lang="edit_category_title">Chỉnh Sửa Phân Loại</h2>
            <form id="edit-category-form" class="space-y-4">
                <input type="hidden" id="edit-category-id">
                <div>
                    <label class="block text-sm font-medium" data-lang="category_name">Tên phân loại</label>
                    <input type="text" id="edit-category-name" required class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="cancel-edit-category" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Hủy</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md" data-lang="save_changes_btn">Lưu</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="confirmation-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-sm">
            <h2 id="confirmation-title" class="text-xl font-bold mb-4">Xác nhận</h2>
            <p id="confirmation-message" class="mb-6">Bạn có chắc chắn muốn thực hiện hành động này?</p>
            <div class="flex justify-end gap-4">
                <button id="confirm-cancel-btn" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md">Hủy</button>
                <button id="confirm-ok-btn" class="bg-red-600 text-white px-4 py-2 rounded-md">Đồng ý</button>
            </div>
        </div>
    </div>

    <div id="salary-setup-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[90vh] flex flex-col">
            <h2 class="text-2xl font-bold mb-4" data-lang="salary_setup_title">Thiết Lập Lương cho <span id="salary-employee-name" class="text-indigo-600"></span></h2>
            <div class="flex-grow overflow-y-auto pr-2 space-y-6">
                <div>
                    <h3 class="text-lg font-semibold mb-3" data-lang="set_new_salary">Thiết Lập/Thay Đổi Lương</h3>
                    <form id="salary-setup-form" class="space-y-4 p-4 border rounded-md bg-gray-50">
                        <input type="hidden" id="salary-employee-id">
                        <div>
                            <label for="salary-amount" class="block text-sm font-medium text-gray-700" data-lang="salary_amount">Mức Lương (VND)</label>
                            <input type="number" id="salary-amount" min="0" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                            <p class="text-xs text-gray-500 mt-1" data-lang="salary_amount_note">Nhập lương tháng cho HĐLĐ, lương ngày cho bán thời gian.</p>
                        </div>
                        <div>
                            <label for="salary-effective-date" class="block text-sm font-medium text-gray-700" data-lang="effective_date">Ngày Hiệu Lực</label>
                            <input type="date" id="salary-effective-date" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3">
                        </div>
                         <div>
                            <label for="salary-reason" class="block text-sm font-medium text-gray-700" data-lang="reason">Lý do thay đổi</label>
                            <input type="text" id="salary-reason" required class="mt-1 block w-full border-gray-300 rounded-md py-2 px-3" data-lang-placeholder="reason_placeholder" placeholder="VD: Tăng lương định kỳ, Thử việc...">
                        </div>
                        <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700" data-lang="save_salary_btn">Lưu Mức Lương</button>
                    </form>
                </div>
                <div>
                     <h3 class="text-lg font-semibold mb-3" data-lang="salary_history">Lịch Sử Thay Đổi Lương</h3>
                     <div id="salary-history-list" class="space-y-2 max-h-60 overflow-y-auto">
                         </div>
                </div>
            </div>
            <div class="flex justify-end gap-4 mt-6 pt-4 border-t">
                <button type="button" id="close-salary-modal-btn" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="close_btn">Đóng</button>
            </div>
        </div>
    </div>
    
    <div id="timesheet-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg">
             <h2 class="text-2xl font-bold mb-4" data-lang="timesheet_entry_title">Chấm Công - <span id="timesheet-employee-name" class="text-indigo-600"></span></h2>
             <p class="text-sm mb-4" data-lang="payroll_period">Kỳ lương: <span id="timesheet-period" class="font-semibold"></span></p>
             <form id="timesheet-form" class="space-y-4">
                <input type="hidden" id="timesheet-employee-id">
                <input type="hidden" id="timesheet-period-key">
                <div id="timesheet-contract-fields">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium" data-lang="work_days">Ngày công thực tế</label>
                            <input type="number" id="timesheet-work-days" min="0" step="0.5" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                        </div>
                        <div>
                            <label class="block text-sm font-medium" data-lang="paid_leave_days">Ngày nghỉ phép (hưởng lương)</label>
                            <input type="number" id="timesheet-paid-leave" min="0" step="0.5" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                        </div>
                    </div>
                     <div>
                        <label class="block text-sm font-medium" data-lang="dependents_count">Số người phụ thuộc</label>
                        <input type="number" id="timesheet-dependents" min="0" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                    </div>
                </div>
                <div id="timesheet-part-time-fields">
                    <div>
                        <label class="block text-sm font-medium" data-lang="total_work_hours">Tổng số giờ làm việc</label>
                        <input type="number" id="timesheet-work-hours" min="0" step="0.1" class="mt-1 w-full border-gray-300 rounded-md py-2 px-3">
                    </div>
                </div>
                <div class="flex justify-end gap-4 mt-6 pt-4 border-t">
                    <button type="button" id="cancel-timesheet-btn" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md" data-lang="cancel_btn">Hủy</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md" data-lang="save_changes_btn">Lưu Chấm Công</button>
                </div>
             </form>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
